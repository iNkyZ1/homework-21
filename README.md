# homework-21

## Описание

Одностраничное приложение (SPA) — упрощённая копия приложения **«Заметки» (macOS Notes)**, реализованная на **React + TypeScript**.

Проект построен с упором на:

- **React Router v6** и защищённые маршруты
- **Context API** для управления состоянием
- **кастомные хуки**
- **Mantine** как дизайн-система
- хранение данных в **IndexedDB (Dexie)**
- **PWA**: установка и работа в **оффлайн-режиме**

---

## Основной функционал

- Страница авторизации при запуске приложения
- Доступ к заметкам только после успешной авторизации (protected route)
- Интерфейс заметок:
  - боковая панель со списком заметок
  - поиск по заметкам (по частичному вхождению строки)
  - рабочая область просмотра / редактирования
- Просмотр заметки:
  - отрендеренный **Markdown**
  - кнопки **Delete** и **Edit**
- Удаление заметки:
  - подтверждение удаления через **Modal (Mantine)**
- Редактирование:
  - Markdown-редактор
  - **автосохранение** контента (debounce)
- Сохранение данных:
  - **IndexedDB (Dexie)** — данные не теряются при перезагрузке
- **PWA**:
  - возможность установки приложения
  - оффлайн-доступ к приложению и сохранённым заметкам

---

## Используемые технологии

- **Vite**
- **React 19**
- **TypeScript**
- **React Router v6**
- **Mantine (UI / AppShell / Modal / Inputs)**
- **Context API**
- **Dexie (IndexedDB)**
- **marked** (Markdown render)
- **react-simplemde-editor + easymde** (Markdown editor)
- **vite-plugin-pwa**
- **Service Worker & Workbox**

---

## Архитектура

Проект организован по принципу разделения на слои (упрощённо):

- **pages** — страницы (Login, Notes)
- **features** — бизнес-логика (auth, notes, storage)
- **components** — UI-композиция (Sidebar, Workspace и т.д.)
- **shared** — переиспользуемые утилиты и UI-компоненты (hooks, modals)

---

## Авторизация

- Реализована через `features/auth`
- Авторизация **клиентская** (без сервера): любые непустые `username/password` считаются валидными
- Статус авторизации сохраняется в `localStorage`
- Маршрут `/notes` защищён и доступен только авторизованному пользователю

---

## Хранение данных

- Заметки хранятся в **IndexedDB** через библиотеку **Dexie**
- При первом запуске выполняется seed демо-заметок (если база пустая)
- После перезагрузки страницы заметки восстанавливаются из IndexedDB

---

## Поиск

- Поиск выполняется по **частичному вхождению строки** (substring match)
- Поиск регистронезависимый
- Фильтрация применяется к содержимому заметки (`content`)

---

## PWA (Progressive Web App)

Приложение поддерживает:

- установку на устройство (Desktop / Android)
- оффлайн-режим (доступна оболочка приложения и сохранённые заметки)
- регистрацию Service Worker
- манифест приложения (manifest)

## Установка и запуск

```bash
npm install
npm run dev
```

## Сборка и запуск preview (для проверки PWA):

```bash
npm run build
npm run preview
```

## Назначение проекта

Проект создан в учебных целях.
